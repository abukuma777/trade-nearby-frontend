#!/bin/bash
# ã‚¢ã‚¤ãƒ†ãƒ ä¸€è¦§æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ

echo "=========================================="
echo "Trade-Nearby ã‚¢ã‚¤ãƒ†ãƒ ä¸€è¦§æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ"
echo "=========================================="
echo ""

# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªç§»å‹•
cd "$(dirname "$0")" || exit

echo "ğŸ“¦ å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ç¢ºèªä¸­..."
npm list @tailwindcss/line-clamp &>/dev/null
if [ $? -ne 0 ]; then
    echo "ğŸ“¥ line-clampãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸­..."
    npm install @tailwindcss/line-clamp
fi

echo ""
echo "ğŸ§ª ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œä¸­..."
echo ""

# ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
npm run test:run -- ItemCard.test.tsx ItemList.test.tsx ItemFilter.test.tsx Pagination.test.tsx

echo ""
echo "=========================================="
echo "ãƒ†ã‚¹ãƒˆçµæœã‚µãƒãƒªãƒ¼"
echo "=========================================="

# ãƒ†ã‚¹ãƒˆçµæœã‚’ã‚«ã‚¦ãƒ³ãƒˆ
echo ""
echo "ğŸ“Š ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸:"
echo "  - ItemCard: 6ãƒ†ã‚¹ãƒˆ"
echo "  - ItemList: 7ãƒ†ã‚¹ãƒˆ"
echo "  - ItemFilter: 9ãƒ†ã‚¹ãƒˆ"
echo "  - Pagination: 12ãƒ†ã‚¹ãƒˆ"
echo "  åˆè¨ˆ: 34ãƒ†ã‚¹ãƒˆ"

echo ""
echo "âœ… ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ç‰ˆã®å‹•ä½œç¢ºèª:"
echo "  1. npm run dev ã§ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•"
echo "  2. http://localhost:5173/items ã«ã‚¢ã‚¯ã‚»ã‚¹"
echo "  3. é»„è‰²ã„ãƒãƒŠãƒ¼ã§ã€Œãƒ†ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰ã€ã¨è¡¨ç¤ºã•ã‚Œã‚‹"
echo ""

echo "=========================================="
echo "ãƒ†ã‚¹ãƒˆå®Œäº†"
echo "=========================================="
